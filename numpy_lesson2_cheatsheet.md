
# NumPy Шпаргалка — Урок 2 (Индексация и срезы)

Индексация, срезы и фильтрация массивов в NumPy.

---

## Импорт
```python
import numpy as np
```

---

## Индексация и срезы (1D)

```python
arr = np.arange(10)   # [0 1 2 3 4 5 6 7 8 9]

arr[0]      # первый элемент → 0
arr[-1]     # последний элемент → 9

arr[2:6]    # срез с 2 по 5 → [2 3 4 5]
arr[:5]     # первые 5 элементов → [0 1 2 3 4]
arr[::2]    # каждый второй элемент → [0 2 4 6 8]
```

---

## Срезы в 2D матрицах

```python
M = np.arange(1, 13).reshape(3, 4)
# [[ 1  2  3  4]
#  [ 5  6  7  8]
#  [ 9 10 11 12]]

M[0, 0]     # 1 (элемент в позиции (0,0))
M[1, 2]     # 7 (элемент в позиции (1,2))

M[0, :]     # первая строка → [1 2 3 4]
M[:, 1]     # вторая колонка → [2 6 10]
M[1:, 2:]   # подматрица → [[ 7  8]
            #                [11 12]]
```

---

## Булевы маски (фильтрация)

```python
arr = np.array([3, 7, 2, 9, 1, 6])

arr > 5              # [False  True False  True False  True]
arr[arr > 5]         # [7 9 6] — элементы > 5
arr[arr % 2 == 0]    # [2 6] — только чётные
```

---

## Пример: фильтрация датасета

```python
temps = np.array([12, 18, 25, 30, 22, 15, 10])

hot_days = temps[temps > 20]
print(hot_days)  # [25 30 22]
```

---

## Продвинутое индексирование

```python
arr = np.array([10, 20, 30, 40, 50])
arr[[0, 2, 4]]    # [10 30 50]

M = np.arange(1, 10).reshape(3, 3)
# [[1 2 3]
#  [4 5 6]
#  [7 8 9]]

M[[0, 2], [1, 2]] # [2 9] (элементы (0,1) и (2,2))
```

---

## Главное из урока
- Индексация и срезы дают доступ к подмассивам без циклов.
- Булевы маски позволяют фильтровать данные как в SQL `WHERE`.
- В 2D массивах можно брать строки, колонки и подматрицы.
- Продвинутое индексирование удобно для выборки отдельных элементов.

---

## Прикладные задачи

**Что умеем:** выбор элементов, подмассивов, фильтрация по условию.

**Применение:**
- **Аналитика продаж** → данные за квартал, фильтрация транзакций > 10 000 ₽.
- **Медицина** → выбор пациентов с температурой > 38°C.
- **Компьютерное зрение** → вырезание подматрицы (например, лица на фото).
- **ML/AI** → фильтрация строк датасета (например, по полу или возрасту).

---